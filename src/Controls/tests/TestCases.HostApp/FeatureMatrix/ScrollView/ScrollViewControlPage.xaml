<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:Class="Maui.Controls.Sample.ScrollViewControlMainPage"
             x:DataType="local:ScrollViewViewModel"
             Title="ScrollViewControlPage">
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Options"
                     Clicked="NavigateToOptionsPage_Clicked"
                     AutomationId="Options"/>
    </ContentPage.ToolbarItems>
    <Grid RowDefinitions="*,Auto,Auto,Auto,Auto"
          Padding="0,10">
        <ScrollView
            x:Name="MyScrollView"
            Grid.Row="0"
            FlowDirection="{Binding FlowDirection}"
            IsVisible="{Binding IsVisible}"
            IsEnabled="{Binding IsEnabled}"
            Orientation="{Binding Orientation}"
            HorizontalScrollBarVisibility="{Binding HorizontalScrollBarVisibility}"
            VerticalScrollBarVisibility="{Binding VerticalScrollBarVisibility}"
            Scrolled="OnScrollViewScrolled"
            AutomationId="ScrollViewControl">
            <ContentView x:Name="ScrollViewContent"
                         Content="{Binding Content}"
                         SizeChanged="ScrollViewContent_SizeChanged"
                         AutomationId="ScrollViewContent"/>
        </ScrollView>
        <VerticalStackLayout x:Name="ScrollViewInfo" Grid.Row="1" IsVisible="{Binding IsScrollToVisible}">
        <HorizontalStackLayout HorizontalOptions="Center">
            <Label Text="ContentSize: "
                   FontSize="14"/>
            <Label Text="{Binding ContentSizeString}"
                   FontSize="14"
                   AutomationId="ContentSizeLabel"/>
        </HorizontalStackLayout>
        <HorizontalStackLayout HorizontalOptions="Center">
            <Label Text="Scroll X: "
                   FontSize="14"/>
            <Label
                Text="{Binding ScrollXInt ,Mode=TwoWay}"
                FontSize="14"
                AutomationId="ScrollXLabel"/>
        </HorizontalStackLayout>
        <HorizontalStackLayout HorizontalOptions="Center">
            <Label
                Text="Scroll Y: "
                FontSize="14"/>
            <Label
                Text="{Binding ScrollYInt, Mode=TwoWay}"
                FontSize="14"
                AutomationId="ScrollYLabel"/>
        </HorizontalStackLayout>
        <HorizontalStackLayout HorizontalOptions="Center"
                Spacing="2">
            <Label Text="Scroll To:"
                   FontSize="14"
                   VerticalOptions="Center"/>
            <Button Text="Visible"
                    Clicked="OnScrollToPositionButtonClicked"
                    AutomationId="ScrollToMakeVisiblePosition"
                    WidthRequest="80"/>
            <Button Text="Start"
                    Clicked="OnScrollToPositionButtonClicked"
                    AutomationId="ScrollToStartPosition"
                    WidthRequest="80"/>
            <Button Text="Center"
                    Clicked="OnScrollToPositionButtonClicked"
                    AutomationId="ScrollToCenterPosition"
                    WidthRequest="80"/>
            <Button Text="End"
                    Clicked="OnScrollToPositionButtonClicked"
                    AutomationId="ScrollToEndPosition"
                    WidthRequest="80"/>
        </HorizontalStackLayout>
        </VerticalStackLayout>
        <HorizontalStackLayout Spacing="10"
                Grid.Row="2"
                x:Name="DynamicButtons"
                HorizontalOptions="Center"
                IsVisible="{Binding IsButtonsVisible}">
            <Button Text="Add Label"
                    Clicked="OnAddLabelClicked"
                    AutomationId="DynamicAddLabel"/>
            <Button Text="Remove Label"
                    Clicked="OnRemoveLabelClicked"
                    AutomationId="DynamicRemoveLabel"/>
        </HorizontalStackLayout>
    </Grid>
</ContentPage>